try{if(!window.localStorage||!window.sessionStorage)throw new Error;localStorage.setItem("storage_test",1),localStorage.removeItem("storage_test")}catch(e){!function(){"use strict";var Storage=function(type){var data,dataResponse;function createCookie(name,value,days){var date,expires;days?((date=new Date).setTime(date.getTime()+24*days*60*60*1e3),expires="; expires="+date.toGMTString()):expires="",document.cookie=name+"="+value+expires+"; path=/"}function getCookieName(){return"session"!==type?"localstorage":(window.name||(window.name=(new Date).getTime()),"sessionStorage"+window.name)}function setData(dataObject){data=encodeURIComponent(JSON.stringify(dataObject)),createCookie(getCookieName(),data,365)}return dataResponse=function(name){var c,nameEQ=name+"=",ca=document.cookie.split(";"),i=0;for(i=0;i<ca.length;i++){for(c=ca[i];" "===c.charAt(0);)c=c.substring(1,c.length);if(0===c.indexOf(nameEQ))return c.substring(nameEQ.length,c.length)}return null}(getCookieName()),data=dataResponse?JSON.parse(decodeURIComponent(dataResponse)):{},{length:0,clear:function(){data={},this.length=0,createCookie(getCookieName(),"",365)},getItem:function(key){return void 0===data[key]?null:data[key]},key:function(i){var k,ctr=0;for(k in data)if(data.hasOwnProperty(k)){if(ctr.toString()===i.toString())return k;ctr++}return null},removeItem:function(key){delete data[key],this.length--,setData(data)},setItem:function(key,value){data[key]=value.toString(),this.length++,setData(data)}}};window.localStorage.prototype=window.localStorage=new Storage("local"),window.sessionStorage.prototype=window.sessionStorage=new Storage("session")}()}