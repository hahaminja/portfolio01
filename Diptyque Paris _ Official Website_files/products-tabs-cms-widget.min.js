define(['jquery','matchMedia'],function($,mediaCheck){'use strict';$(function(){if($('.tabs-page-products-tabs').length>0){$(window).on('scroll',function(){$(document.body).addClass('page-hasscrolled');});$(document.body).addClass('page-products-tabs');var $tabs=$('.tabs-page-products-tabs').find('.block-title');$('.tabs-page-products-tabs').prepend('<div class="desktop-tabs"></div>');var clones=[];var currentIndex=-1;$tabs.each(function(index,tab){$(tab).attr({'tabindex':0,'id':'tab-o-'+index});var $clone=$(tab).clone().attr('id','tab-d-'+index).addClass('cloned');$('.desktop-tabs').append($clone);clones.push($clone);$('.tabs-page-products-tabs').addClass('tabs-ready');$($('.tabs-page-subtitles').find('li').get(0)).addClass('show-block');$(tab).on('click',function(){document.location.hash='#tab-'+index;if($(tab).hasClass('active')){$(tab).removeClass('active');$(clones[index]).removeClass('active');currentIndex=-1;$(document.body).addClass('page-hasscrolled');}else{$tabs.removeClass('active');$(clones).each(function(i,clone){$(clone).removeClass('active');});$(tab).addClass('active');$(clones[index]).addClass('active');currentIndex=index;$(document.body).removeClass('page-hasscrolled');}
if(currentIndex>=0){$('.block-products-list').removeClass('show-block');$($('.block-products-list').get(currentIndex)).addClass('show-block');if(($('.tabs-images').length>0)&&($('.tabs-images').find('li').length>0)){$('.tabs-images').find('li').removeClass('show-block');$('.tabs-images').removeClass('toright');$('.tabs-images').removeClass('toleft');$($('.tabs-images').find('li').get(currentIndex)).addClass('show-block');$('.tabs-images').addClass($($('.tabs-images').find('li').get(currentIndex)).attr('class'));}
if(($('.tabs-page-subtitles').length>0)&&($('.tabs-page-subtitles').find('li').length>0)){$('.tabs-page-subtitles').find('li').removeClass('show-block');$($('.tabs-page-subtitles').find('li').get(currentIndex+1)).addClass('show-block');}}else{$('.block-products-list').removeClass('show-block');if(($('.tabs-images').length>0)&&($('.tabs-images').find('li').length>0)){$('.tabs-images').find('li').removeClass('show-block');}
if(($('.tabs-page-subtitles').length>0)&&($('.tabs-page-subtitles').find('li').length>0)){$('.tabs-page-subtitles').find('li').removeClass('show-block');$($('.tabs-page-subtitles').find('li').get(0)).addClass('show-block');}}});$(clones[index]).on('click',function(){$(tab).trigger('click');});});var desktopTabIndex=-1;var mobileTabIndex=-1;if($('.tabs-page-products-tabs').attr('data-tab-opened-desktop')){desktopTabIndex=parseInt(eval($('.tabs-page-products-tabs').attr('data-tab-opened-desktop'))-1);}
if($('.tabs-page-products-tabs').attr('data-tab-opened-mobile')){mobileTabIndex=parseInt(eval($('.tabs-page-products-tabs').attr('data-tab-opened-mobile'))-1);}
mediaCheck({media:'(max-width: 768px)',entry:function(){if(document.location.hash==''){if(mobileTabIndex>=0){if(!$($tabs[mobileTabIndex]).hasClass('active')){$($tabs[mobileTabIndex]).trigger('click');}}else{var lastOne=$tabs.length-1;if(!$($tabs[lastOne]).hasClass('active')){$($tabs[lastOne]).trigger('click');}}}else{var hashindex=document.location.hash.split('-')[1];if(!$($tabs[hashindex]).hasClass('active')){$($tabs[hashindex]).trigger('click');}}}.bind(this),exit:function(){if(document.location.hash==''){if(desktopTabIndex>=0){if(!$($tabs[desktopTabIndex]).hasClass('active')){$($tabs[desktopTabIndex]).trigger('click');}}}else{var hashindex=document.location.hash.split('-')[1];if(!$($tabs[hashindex]).hasClass('active')){$($tabs[hashindex]).trigger('click');}}}.bind(this)});}});});